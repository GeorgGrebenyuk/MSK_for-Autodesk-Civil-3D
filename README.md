# Сборник русских систем координат для AutoCAD Civil 3D (MSK_for-Autodesk-Civil-3D)
## Описание:
Здесь содержатся конфигурационные файлы CSD, описывающие пользовательскую библиотеку систем координат для всех продуктов Autodesk (первоочередно, для AutoCAD Civil 3D, AutoCAD Map 3D, Autodesk Revit, Autodesk InfraWorks, Autodesk ReCap)
## Справка по пакету:
Приведена в отдельном справочном пособии [по ссылке](https://inj9.gitbook.io/msk-for-civil-3d/)
## Добавление/использование:
Лежащие в корне репозитория файлы CSD необходимо переместить в корень системной директории для пользовательских систем координат - следующий путь (содержащий переменную среду - путь до пользовательской папки AppData\Local:

*%LOCALAPPDATA%\Autodesk\User Geospatial Coordinate Systems*

Для удобства, все файлы CSD добавлены в архив, который доступен в корне репозитория [MSK_for-Autodesk-Civil-3D.zip](https://github.com/GeorgGrebenyuk/MSK_for-Autodesk-Civil-3D/raw/master/MSK_for-Autodesk-Civil-3D.zip)
Вид размещенных файлов, гарантирующий корректную работу библиотеки представлен на ![скриншоте ниже:](/Docs/Screen/Root1.png)

**Примечание**: помимо конфигурационных файлов \*.csd в папке также могут присутствовать другие папки и данные (к примеру, архивы сборок координат)
## Объедиение библиотек
В случае, если у вас есть необходимость добавить представленную библиотеку к вашей, рекомендуется изучить сведения [в данной статье](https://zen.yandex.ru/media/id/5d0dba97ecd5cf00afaf2938/pogrujaemsia-v-sistemy-koordinat-chast-4-avtomatizaciia-formirovaniia-biblioteki-sk-607707d2bfba535c1acb63d1)
## Преобразование библиотеки в иное представление:
Начиная с версии Civil 3D 2018 (Map 3D 2018) появилась штатная возможность экспорта бибилиотеки координат через формат XML при помощи LSP-файла. Структура файла для экспорта определения системы координат МГГТ (Russia-MGGT) вместе со всеми связанными определениями представлена ниже:
```lisp
(command "MAPCSLIBRARYEXPORT"
"Russia-MGGT" "СистемаКоординат"
 " " "Да" "")
```
Все необходимые системы координат записываются построчно, функция "Да" отвечает за включение в итоговый XML-файл связанных определений (эллипсоидов/датумов).
Гибкий инструментарий по преобразованию библиотеки в иное представление (формат XML/WKT2) предоставляет пакет нодов Dynamo MapConnection, страница которого на GitHub приведена [по ссылке](https://github.com/TBS-Software/Dynamo.MapConnection) и справка [тут](https://inj9.gitbook.io/dynamo-mapconnection/)
